docker run --rm -it -p 1935:1935 -p 1985:1985 -p 8080:8080 -p 8000:8000/udp -p 10080:10080/udp ossrs/srs:5

ffmpeg -re -i ex10.mp4 -c copy -f flv rtmp://localhost/live/livestream

ffmpeg -re -i "[DM]í€¸ë‹¤ë¯¸ - Party Train - ğŸ”êµì°¨í¸ì§‘ - 4K_60FPS Enhanced - AfreecaTV VOD_cut.mp4" -c copy -f flv -y rtmp://localhost/live/livestream



ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -c:a aac -f flv rtmp://localhost/live/livestream_mp3
    â€‹è­¦å‘Šä¿¡æ¯ï¼šdeprecated pixel format used æ˜¯ç”±äºè§†é¢‘æµä»mjpegè½¬ç ä¸ºflv1æ—¶åƒç´ æ ¼å¼ä¸å…¼å®¹ã€‚
    â€‹å…³é”®é”™è¯¯ï¼šFailed to update header å’Œ Qavg: 638.685 è¡¨æ˜FLVå°è£…è¿‡ç¨‹ä¸­æ•°æ®åŒ…å†™å…¥å¼‚å¸¸ï¼Œå¯èƒ½æ˜¯è§†é¢‘æµæ— æ•ˆå¯¼è‡´ã€‚

ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -map 0:a -c:a aac -f flv rtmp://localhost/live/livestream_mp3


docker run -d `
  -p 1935:1935 -p 8080:8080 `
  -v E:\0_XiangCheng_WorkSpace\NSMusicS-WorkSpqce\NineSong\srs_audio.conf:/usr/local/srs/conf/srs.conf `
  --name srs_audio `
  ossrs/srs:6 `
  ./objs/srs -c conf/srs.conf

# æ¨æµåŸå§‹MP3æ–‡ä»¶ï¼ˆä¿ç•™åŸå§‹éŸ³è´¨ï¼‰
ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -vn -c:a copy -f flv rtmp://localhost/live/livestream_mp3
# åŠ¨æ€è½¬ç æ¨æµï¼ˆé€‚åˆä¸åŒç ç‡éœ€æ±‚ï¼‰
ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -vn -c:a libmp3lame -b:a 192k -f flv rtmp://localhost/live/livestream_mp3




Howler.js åŸºäº Web Audio API å’Œ HTML5 <audio> æ ‡ç­¾ï¼Œä»…æ”¯æŒæ ‡å‡†éŸ³é¢‘æ ¼å¼ï¼ˆå¦‚ MP3ã€AACã€OGG ç­‰ï¼‰ã€‚

1. ç”Ÿæˆè™šæ‹Ÿè§†é¢‘æµ
    ç”±äºRTMPåè®®é€šå¸¸éœ€è¦éŸ³è§†é¢‘åŒè½¨é“ï¼Œéœ€é€šè¿‡FFmpegä¸ºçº¯éŸ³é¢‘æ–‡ä»¶ç”Ÿæˆé™æ€é»‘å¸§è§†é¢‘æµï¼š
        ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -f lavfi -i "color=size=640x480:rate=1" -c:a aac -c:v libx264 -shortest -f flv rtmp://localhost/live/livestream
2. ä»…æ’­æ”¾éŸ³é¢‘
    H5(HLS): http://localhost:8080/live/livestream.m3u8


1. ä½¿ç”¨æ”¯æŒç²¾å‡†è·³è½¬çš„éŸ³é¢‘æ ¼å¼
    å°†MP3è½¬ç ä¸ºAACæ ¼å¼ï¼ˆæ”¯æŒåŸºäºæ ·æœ¬çš„ç²¾ç¡®è·³è½¬ï¼‰ï¼Œå¹¶è°ƒæ•´æ¨æµå‘½ä»¤ï¼š
    # æ¨æµç«¯å‘½ä»¤ï¼ˆè½¬ç ä¸ºAACï¼Œå¯ç”¨æ—¶é—´æˆ³åŒæ­¥ï¼‰
        ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -vn -c:a aac -copyts -f flv rtmp://localhost/live/livestream_aac
    â€‹å…³é”®å‚æ•°ï¼š
        -copytsï¼šä¿ç•™è¾“å…¥æ–‡ä»¶çš„åŸå§‹æ—¶é—´æˆ³ï¼Œé¿å…è·³è½¬æ—¶é‡ç½®ã€‚
        -c:a aacï¼šAACæ ¼å¼æ”¯æŒé«˜ç²¾åº¦è·³è½¬ï¼ˆåŸºäºæ ·æœ¬è€Œéå¸§ï¼‰ã€‚
3. æœåŠ¡ç«¯åŠ¨æ€ç”Ÿæˆè™šæ‹Ÿæ—¶é—´æˆ³
    è‹¥éœ€å¼ºåˆ¶è·³è½¬åˆ°æŒ‡å®šä½ç½®ï¼Œå¯é€šè¿‡FFmpegåœ¨æ¨æµæ—¶æ³¨å…¥è™šæ‹Ÿæ—¶é—´æˆ³ï¼š -ss 60
        ffmpeg -re -i "G.E.M.é‚“ç´«æ£‹ - å¤šè¿œéƒ½è¦åœ¨ä¸€èµ·.mp3" -vn -c:a aac -af "asetpts=PTS+60/TB" -f flv rtmp://localhost/live/livestream_aac
    â€‹å‚æ•°è¯´æ˜ï¼š
        -ss 60ï¼šä»è¾“å…¥æ–‡ä»¶çš„ç¬¬60ç§’å¼€å§‹æ¨æµã€‚
        -af "asetpts=PTS+60/TB"ï¼šå¼ºåˆ¶æ—¶é—´æˆ³ä»60ç§’å¼€å§‹é€’å¢ï¼Œæ¨¡æ‹Ÿè¿ç»­æµã€‚
